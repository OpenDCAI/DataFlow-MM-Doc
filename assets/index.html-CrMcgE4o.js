import{_ as i,c as a,b as t,o as e}from"./app-Ct5swOin.js";const l={};function n(h,s){return e(),a("div",null,s[0]||(s[0]=[t(`<h2 id="ğŸ“˜-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°"><span>ğŸ“˜ æ¦‚è¿°</span></a></h2><p><code>ImageAestheticFilter</code> å¯¹è¾“å…¥å›¾åƒåš<strong>åŸºç¡€è´¨é‡ / ç¾å­¦è¿‡æ»¤</strong>ï¼Œç»¼åˆè¯„ä¼°ï¼š</p><ul><li>æ¸…æ™°åº¦ï¼ˆæ˜¯å¦æ¨¡ç³Šï¼‰</li><li>æ•´ä½“äº®åº¦ï¼ˆæ˜¯å¦è¿‡æš— / è¿‡äº®ï¼‰</li><li>å¯¹æ¯”åº¦ï¼ˆæ˜¯å¦ç°è’™è’™ä¸€ç‰‡ï¼‰</li><li>æç«¯é»‘/ç™½åƒç´ æ¯”ä¾‹ï¼ˆæ˜¯å¦å‡ ä¹å…¨é»‘æˆ–å…¨ç™½ï¼‰</li></ul><p>ç”¨äºå‰”é™¤æ¨¡ç³Šã€æ›å…‰å¼‚å¸¸æˆ–å‡ ä¹çº¯è‰²èƒŒæ™¯çš„<strong>ä½è´¨é‡å›¾ç‰‡</strong>ï¼Œä¸ºåç»­æ£€æµ‹ã€è¯†åˆ«ã€æ£€ç´¢æˆ–ç”Ÿæˆä»»åŠ¡æä¾›æ›´å¹²å‡€çš„è¾“å…¥æ•°æ®ã€‚</p><h2 id="init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#init-å‡½æ•°"><span><code>__init__</code>å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    blur_thresh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 150.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    brightness_range</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> tuple</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">30</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 230</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    contrast_thresh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 40.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    max_black_ratio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.90</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    max_white_ratio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> float</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.90</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="initå‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#initå‚æ•°è¯´æ˜"><span><code>init</code>å‚æ•°è¯´æ˜</span></a></h2><table><thead><tr><th style="text-align:left;">å‚æ•°å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><code>blur_thresh</code></td><td style="text-align:left;"><code>float</code></td><td style="text-align:left;"><code>150.0</code></td><td style="text-align:left;">æ¸…æ™°åº¦é˜ˆå€¼ï¼ŒåŸºäºæ‹‰æ™®æ‹‰æ–¯æ–¹å·®ï¼ˆVariance of Laplacianï¼‰ã€‚æ•°å€¼è¶Šé«˜ä»£è¡¨å›¾åƒè¶Šæ¸…æ™°ï¼›ä½äºè¯¥é˜ˆå€¼åˆ™è®¤ä¸ºå›¾åƒæ¨¡ç³Šã€‚</td></tr><tr><td style="text-align:left;"><code>brightness_range</code></td><td style="text-align:left;"><code>tuple[float, float]</code></td><td style="text-align:left;"><code>(30, 230)</code></td><td style="text-align:left;">å…è®¸çš„æ•´ä½“äº®åº¦èŒƒå›´ï¼ˆç°åº¦å‡å€¼ï¼‰ï¼Œè¿‡ä½è§†ä¸ºè¿‡æš—ï¼Œè¿‡é«˜è§†ä¸ºè¿‡äº®ï¼›è½åœ¨åŒºé—´å†…æ‰è§†ä¸ºäº®åº¦æ­£å¸¸ã€‚</td></tr><tr><td style="text-align:left;"><code>contrast_thresh</code></td><td style="text-align:left;"><code>float</code></td><td style="text-align:left;"><code>40.0</code></td><td style="text-align:left;">å¯¹æ¯”åº¦é˜ˆå€¼ï¼ŒåŸºäºç°åº¦å›¾æ ‡å‡†å·®ï¼›ä½äºè¯¥å€¼è¯´æ˜å›¾åƒæ•´ä½“ç°è’™ï¼Œå¯¹æ¯”åº¦ä¸è¶³ã€‚</td></tr><tr><td style="text-align:left;"><code>max_black_ratio</code></td><td style="text-align:left;"><code>float</code></td><td style="text-align:left;"><code>0.90</code></td><td style="text-align:left;">å…è®¸çš„<strong>è¿‘çº¯é»‘åƒç´ </strong>æœ€å¤§æ¯”ä¾‹ï¼ˆ<code>gray &lt; 10</code>ï¼‰ï¼Œè¶…è¿‡åˆ™è®¤ä¸ºå›¾åƒå‡ ä¹å…¨é»‘ã€‚</td></tr><tr><td style="text-align:left;"><code>max_white_ratio</code></td><td style="text-align:left;"><code>float</code></td><td style="text-align:left;"><code>0.90</code></td><td style="text-align:left;">å…è®¸çš„<strong>è¿‘çº¯ç™½åƒç´ </strong>æœ€å¤§æ¯”ä¾‹ï¼ˆ<code>gray &gt; 245</code>ï¼‰ï¼Œè¶…è¿‡åˆ™è®¤ä¸ºå›¾åƒå‡ ä¹å…¨ç™½ã€‚</td></tr></tbody></table><h2 id="runå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#runå‡½æ•°"><span><code>run</code>å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    input_image_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">image_path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œç®—å­ä¸»é€»è¾‘ï¼š</p><ol><li><p><strong>è¯»å–æ•°æ®</strong><br> ä» <code>storage</code> ä¸­è¯»å–å½“å‰ DataFrameï¼Œ<code>input_image_key</code> åˆ—ç»™å‡ºå›¾åƒè·¯å¾„ï¼ˆé»˜è®¤ <code>&quot;image_path&quot;</code>ï¼‰ã€‚</p></li><li><p><strong>é€å›¾åƒè´¨é‡è¯„ä¼°</strong><br> å¯¹æ¯ä¸€è¡Œæ ·æœ¬æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>ä½¿ç”¨ OpenCV ä»¥ç°åº¦æ–¹å¼è¯»å–å›¾åƒï¼š<code>cv2.imread(path, cv2.IMREAD_GRAYSCALE)</code>ï¼›è‹¥è¯»å–å¤±è´¥ï¼Œç›´æ¥åˆ¤å®šä¸ºä¸åˆæ ¼ã€‚</li><li>è®¡ç®—æ¸…æ™°åº¦ï¼š <ul><li>ä½¿ç”¨ <code>cv2.Laplacian(gray, cv2.CV_64F).var()</code> å¾—åˆ°æ‹‰æ™®æ‹‰æ–¯æ–¹å·®ï¼›</li><li>ä¸ <code>blur_thresh</code> æ¯”è¾ƒï¼Œä½äºé˜ˆå€¼è®¤ä¸ºæ¨¡ç³Šã€‚</li></ul></li><li>è®¡ç®—äº®åº¦ï¼š <ul><li>ç°åº¦å›¾å‡å€¼ <code>gray.mean()</code>ï¼Œè¦æ±‚åœ¨ <code>brightness_range = (bright_min, bright_max)</code> åŒºé—´å†…ã€‚</li></ul></li><li>è®¡ç®—å¯¹æ¯”åº¦ï¼š <ul><li>ç°åº¦å›¾æ ‡å‡†å·® <code>gray.std()</code>ï¼Œè¦æ±‚ â‰¥ <code>contrast_thresh</code>ã€‚</li></ul></li><li>è®¡ç®—æç«¯åƒç´ æ¯”ä¾‹ï¼š <ul><li>è¿‘é»‘åƒç´ æ¯”ä¾‹ <code>black_ratio = (gray &lt; 10).sum() / total_pixels</code>ï¼›</li><li>è¿‘ç™½åƒç´ æ¯”ä¾‹ <code>white_ratio = (gray &gt; 245).sum() / total_pixels</code>ï¼›</li><li>è‹¥ <code>black_ratio &gt; max_black_ratio</code> æˆ– <code>white_ratio &gt; max_white_ratio</code>ï¼Œåˆ™è®¤ä¸ºå›¾åƒè¿‡äºæç«¯ï¼ˆå‡ ä¹çº¯é»‘/çº¯ç™½ï¼‰ã€‚</li></ul></li></ol></li><li><p><strong>ç»¼åˆåˆ¤å®š</strong><br> ä»…å½“ <strong>æ¸…æ™°åº¦è¾¾æ ‡</strong> ä¸” <strong>äº®åº¦æ­£å¸¸</strong> ä¸” <strong>å¯¹æ¯”åº¦è¾¾æ ‡</strong> ä¸” <strong>æç«¯åƒç´ æ¯”ä¾‹ä¸è¿‡é«˜</strong> æ—¶ï¼Œ<br> å°†è¯¥æ ·æœ¬çš„ <code>quality</code> è®°ä¸º <code>True</code>ï¼Œå¦åˆ™è®°ä¸º <code>False</code>ã€‚</p></li></ol><p>å‚æ•°</p><table><thead><tr><th style="text-align:left;">å‚æ•°å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><code>storage</code></td><td style="text-align:left;"><code>DataFlowStorage</code></td><td style="text-align:left;">æ— </td><td style="text-align:left;">Dataflow çš„è¯»å†™å­˜å‚¨å¯¹è±¡ã€‚</td></tr><tr><td style="text-align:left;"><code>input_image_key</code></td><td style="text-align:left;"><code>str</code></td><td style="text-align:left;"><code>&quot;image_path&quot;</code></td><td style="text-align:left;">å›¾åƒè·¯å¾„æ‰€åœ¨åˆ—åã€‚</td></tr></tbody></table><h2 id="ğŸ§ -ç¤ºä¾‹ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -ç¤ºä¾‹ç”¨æ³•"><span>ğŸ§  ç¤ºä¾‹ç”¨æ³•</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">utils</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">operators</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">core_vision </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ImageAestheticFilter</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1) å‡†å¤‡ FileStorageï¼ˆè‡³å°‘åŒ…å« image_path åˆ—ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    first_entry_file_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./dataflow/example/test_image_filter/test_image_filter.jsonl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    cache_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./cache_local</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    file_name_prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">aes_filter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    cache_type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jsonl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2) åˆå§‹åŒ–ç¾å­¦è¿‡æ»¤ç®—å­ï¼ˆå¯æŒ‰éœ€è¦è°ƒæ•´é˜ˆå€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">aes_filter </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ImageAestheticFilter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    blur_thresh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">150.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    brightness_range</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">30</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 230</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    contrast_thresh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">40.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    max_black_ratio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.90</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    max_white_ratio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.90</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3) æ‰§è¡Œè¿‡æ»¤ï¼šä»…ä¿ç•™é€šè¿‡è´¨é‡æ£€æŸ¥çš„å›¾ç‰‡</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cols </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> aes_filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    input_image_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">image_path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cols</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # [&quot;image_path&quot;]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-é»˜è®¤è¾“å‡ºæ ¼å¼-output-format"><span>ğŸ§¾ é»˜è®¤è¾“å‡ºæ ¼å¼ï¼ˆOutput Formatï¼‰</span></a></h3><table><thead><tr><th style="text-align:left;">å­—æ®µå</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><code>image_path</code>ï¼ˆæˆ– <code>input_image_key</code> æŒ‡å®šåˆ—ï¼‰</td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">æ— </td><td style="text-align:left;">è¾“å…¥å›¾åƒè·¯å¾„ã€‚</td></tr><tr><td style="text-align:left;"><code>quality</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;">æ— </td><td style="text-align:left;">è¯¥å›¾åƒæ˜¯å¦é€šè¿‡ç¾å­¦/è´¨é‡è¿‡æ»¤ï¼›ä»… <code>quality == true</code> çš„è¡Œä¼šä¿ç•™åœ¨æœ€ç»ˆè¾“å‡ºä¸­ã€‚</td></tr></tbody></table><p>ç¤ºä¾‹è¾“å…¥ï¼š</p><div class="language-jsonl line-numbers-mode" data-highlighter="shiki" data-ext="jsonl" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-jsonl"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image_path</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.png</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image_path</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2.jpg</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹è¾“å‡ºï¼š</p><div class="language-jsonl line-numbers-mode" data-highlighter="shiki" data-ext="jsonl" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-jsonl"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">image_path</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.png</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">quality</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22)]))}const d=i(l,[["render",n]]),p=JSON.parse('{"path":"/zh/mm_operators/filter/image_aesthetic_filter/","title":"ImageAestheticFilter","lang":"zh-CN","frontmatter":{"title":"ImageAestheticFilter","createTime":"2025/10/15 15:45:04","permalink":"/zh/mm_operators/filter/image_aesthetic_filter/"},"readingTime":{"minutes":2.71,"words":812},"git":{"createdTime":1760525621000,"updatedTime":1768125121000,"contributors":[{"name":"happykeyan","username":"happykeyan","email":"hankyang428@163.com","commits":5,"avatar":"https://avatars.githubusercontent.com/happykeyan?v=4","url":"https://github.com/happykeyan"}]},"filePathRelative":"zh/notes/mm_operators/image_understanding/filter/image_aesthetic_filter.md","headers":[]}');export{d as comp,p as data};
