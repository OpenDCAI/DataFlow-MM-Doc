import{_ as i,c as a,b as t,o as n}from"./app-Ct5swOin.js";const e={};function l(h,s){return n(),a("div",null,s[0]||(s[0]=[t(`<h2 id="ğŸ“˜-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°"><span>ğŸ“˜ æ¦‚è¿°</span></a></h2><p><code>PromptTemplatedVQAGenerator</code> æ˜¯ä¸€ä¸ª <strong>åŸºäºæ¨¡æ¿çš„å¤šæ¨¡æ€é—®ç­”ç®—å­</strong>ã€‚å®ƒå…è®¸ç”¨æˆ·å°† DataFrame ä¸­çš„å¤šä¸ªå­—æ®µåŠ¨æ€æ³¨å…¥åˆ°é¢„å®šä¹‰çš„ Prompt æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆå®šåˆ¶åŒ–çš„æ–‡æœ¬æŒ‡ä»¤ï¼Œå¹¶ç»“åˆå›¾åƒæˆ–è§†é¢‘è¾“å…¥è¿›è¡Œæ‰¹é‡æ¨ç†ã€‚</p><p>ä¸æ ‡å‡†çš„ VQA ç®—å­ä¸åŒï¼Œè¯¥ç®—å­æ”¯æŒæ›´å¤æ‚çš„ Prompt é€»è¾‘ï¼ˆä¾‹å¦‚åŠ¨æ€å¡«å…¥ç±»åˆ«ã€ä¸Šä¸‹æ–‡æè¿°ç­‰ï¼‰ï¼Œéå¸¸é€‚åˆéœ€è¦ <strong>ç»“æ„åŒ– Prompt æ„å»º</strong> çš„åœºæ™¯ï¼Œå¦‚åŸºäºç‰¹å®šå±æ€§çš„å›¾åƒæè¿°ã€å—æ§å¤šè½®å¯¹è¯æ¨¡æ‹Ÿç­‰ã€‚</p><h2 id="ğŸ—ï¸-init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ğŸ—ï¸-init-å‡½æ•°"><span>ğŸ—ï¸ <code>__init__</code> å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> LLMServingABC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    prompt_template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> NamedPlaceholderPromptTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    system_prompt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">You are a helpful assistant.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ§¾-å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-å‚æ•°è¯´æ˜"><span>ğŸ§¾ å‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>serving</code></td><td><code>LLMServingABC</code></td><td>æ— </td><td>è´Ÿè´£æ‰§è¡Œæ¨ç†çš„æ¨¡å‹æœåŠ¡å®ä¾‹ï¼ˆéœ€æ”¯æŒå¤šæ¨¡æ€æ¨ç†ï¼‰ã€‚</td></tr><tr><td><code>prompt_template</code></td><td><code>NamedPlaceholderPromptTemplate</code></td><td>æ— </td><td>å®ç°äº† <code>build_prompt</code> æ–¹æ³•çš„æ¨¡æ¿å¯¹è±¡ï¼Œç”¨äºå°†å­—å…¸æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸² Promptã€‚</td></tr><tr><td><code>system_prompt</code></td><td><code>str</code></td><td><code>&quot;You are...&quot;</code></td><td>å‘é€ç»™æ¨¡å‹çš„ç³»ç»Ÿæç¤ºè¯ã€‚</td></tr></tbody></table><h2 id="âš¡-run-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#âš¡-run-å‡½æ•°"><span>âš¡ <code>run</code> å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    input_image_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">image</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    input_video_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">video</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    output_answer_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">answer</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    **</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">input_keys</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œç®—å­ä¸»é€»è¾‘ï¼š</p><ol><li><strong>æ•°æ®è¯»å–</strong> ä» <code>storage</code> ä¸­è¯»å– DataFrameã€‚</li><li><strong>Prompt åŠ¨æ€æ„å»º</strong> éå† DataFrame çš„æ¯ä¸€è¡Œï¼š</li></ol><ul><li>æå– <code>input_keys</code> æ˜ å°„ä¸­æŒ‡å®šçš„åˆ—æ•°æ®ï¼ˆä¾‹å¦‚ <code>descriptions</code> åˆ—, <code>type</code> åˆ—ï¼‰ã€‚</li><li>è°ƒç”¨ <code>prompt_template.build_prompt()</code> å°†è¿™äº›æ•°æ®å¡«å…¥æ¨¡æ¿ï¼Œç”Ÿæˆè¯¥æ ·æœ¬ä¸“å±çš„ <code>prompt_text</code>ã€‚</li></ul><ol start="3"><li><strong>å¤šæ¨¡æ€è¾“å…¥ç»„è£…</strong></li></ol><ul><li>è¯»å– <code>input_image_key</code> æˆ– <code>input_video_key</code> æŒ‡å®šçš„åª’ä½“è·¯å¾„ã€‚</li><li>å°†ç”Ÿæˆçš„æ–‡æœ¬ Prompt ä¸å¯¹åº”çš„å›¾åƒ/è§†é¢‘æ•°æ®æ‰“åŒ…æˆç¬¦åˆæ¨¡å‹è¦æ±‚çš„è¾“å…¥æ ¼å¼ã€‚</li></ul><ol start="4"><li><strong>æ¨¡å‹æ¨ç†ä¸è¾“å‡º</strong></li></ol><ul><li>è°ƒç”¨æ¨¡å‹æœåŠ¡è¿›è¡Œæ‰¹é‡ç”Ÿæˆã€‚</li><li>å°†ç»“æœå†™å…¥ <code>output_answer_key</code> æŒ‡å®šçš„åˆ—ï¼Œå¹¶ä¿å­˜æ›´æ–°åçš„ DataFrameã€‚</li></ul><h3 id="ğŸ§¾-run-å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-run-å‚æ•°è¯´æ˜"><span>ğŸ§¾ <code>run</code> å‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>storage</code></td><td><code>DataFlowStorage</code></td><td>æ— </td><td>DataFlow æ•°æ®å­˜å‚¨å¯¹è±¡ã€‚</td></tr><tr><td><code>input_image_key</code></td><td><code>str</code></td><td><code>&quot;image&quot;</code></td><td>å›¾åƒè·¯å¾„æ‰€åœ¨çš„åˆ—åï¼ˆä¸ video_key äºŒé€‰ä¸€ï¼‰ã€‚</td></tr><tr><td><code>input_video_key</code></td><td><code>str</code></td><td><code>&quot;video&quot;</code></td><td>è§†é¢‘è·¯å¾„æ‰€åœ¨çš„åˆ—åï¼ˆä¸ image_key äºŒé€‰ä¸€ï¼‰ã€‚</td></tr><tr><td><code>output_answer_key</code></td><td><code>str</code></td><td><code>&quot;answer&quot;</code></td><td>ç”Ÿæˆç»“æœçš„è¾“å‡ºåˆ—åã€‚</td></tr><tr><td><code>**input_keys</code></td><td><code>kwargs</code></td><td>æ— </td><td><strong>å…³é”®å‚æ•°</strong>ã€‚å®šä¹‰æ¨¡æ¿å ä½ç¬¦ä¸ DataFrame åˆ—åçš„æ˜ å°„å…³ç³»ã€‚<br></td></tr></tbody></table><p><br>æ ¼å¼ï¼š<code>æ¨¡æ¿å˜é‡å=&quot;DataFrameåˆ—å&quot;</code>ã€‚ |</p><h2 id="ğŸ§©-ç¤ºä¾‹ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#ğŸ§©-ç¤ºä¾‹ç”¨æ³•"><span>ğŸ§© ç¤ºä¾‹ç”¨æ³•</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">utils</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">core </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> LLMServing</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompt_template </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> NamedPlaceholderPromptTemplate</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">operators</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">generate </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> PromptTemplatedVQAGenerator</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1) å®šä¹‰å¸¦å ä½ç¬¦çš„æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å‡è®¾æˆ‘ä»¬è¦è®©æ¨¡å‹æ£€æŸ¥å›¾åƒä¸­æ˜¯å¦åŒ…å«ç‰¹å®šç±»å‹çš„ç‰©ä½“ï¼Œå¹¶å‚è€ƒå·²æœ‰çš„æè¿°</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">TEMPLATE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Context: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{descriptions}\\n\\n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Task: Describe the appearance of </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{type}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in the image based on the context above.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompt_template </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> NamedPlaceholderPromptTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">TEMPLATE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2) åˆå§‹åŒ–ç®—å­</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">op </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> PromptTemplatedVQAGenerator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">LLMServing</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">model_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Qwen/Qwen2.5-VL-3B-Instruct</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    prompt_template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompt_template</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3) å‡†å¤‡æ•°æ® (å‡è®¾ jsonl ä¸­åŒ…å« image, meta_desc, obj_type ä¸‰åˆ—)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">file_name_prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vqa_task</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4) è¿è¡Œç®—å­ï¼šå°† meta_desc åˆ—å¡«å…¥ {descriptions}ï¼Œå°† obj_type åˆ—å¡«å…¥ {type}</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">op</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    input_image_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">image</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    output_answer_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_caption</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # åŠ¨æ€æ˜ å°„ï¼š</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    descriptions</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">meta_desc</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">obj_type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ§¾-è¾“å…¥è¾“å‡ºç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ§¾-è¾“å…¥è¾“å‡ºç¤ºä¾‹"><span>ğŸ§¾ è¾“å…¥è¾“å‡ºç¤ºä¾‹</span></a></h3><p><strong>è¾“å…¥ DataFrame è¡Œï¼š</strong></p><table><thead><tr><th style="text-align:left;">image</th><th style="text-align:left;">meta_desc</th><th style="text-align:left;">obj_type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>&quot;/path/to/car.jpg&quot;</code></td><td style="text-align:left;"><code>&quot;A photo taken on a sunny day.&quot;</code></td><td style="text-align:left;"><code>&quot;vintage car&quot;</code></td></tr></tbody></table><p><strong>æ„å»ºçš„ Promptï¼š</strong></p><blockquote><p>&quot;Context: A photo taken on a sunny day.\\n\\nTask: Describe the appearance of <strong>vintage car</strong> in the image based on the context above.&quot;</p></blockquote><p><strong>è¾“å‡º DataFrame è¡Œï¼š</strong></p><table><thead><tr><th style="text-align:left;">image</th><th style="text-align:left;">meta_desc</th><th style="text-align:left;">obj_type</th><th style="text-align:left;">generated_caption</th></tr></thead><tbody><tr><td style="text-align:left;"><code>&quot;/path/to/car.jpg&quot;</code></td><td style="text-align:left;"><code>...</code></td><td style="text-align:left;"><code>...</code></td><td style="text-align:left;"><code>&quot;The vintage car is red with...&quot;</code></td></tr></tbody></table>`,28)]))}const k=i(e,[["render",l]]),d=JSON.parse('{"path":"/zh/mm_operators/generate/prompt_templated_vqa_generator/","title":"PromptTemplatedVQAGenerator","lang":"zh-CN","frontmatter":{"title":"PromptTemplatedVQAGenerator","createTime":"2026/01/11 21:25:34","permalink":"/zh/mm_operators/generate/prompt_templated_vqa_generator/"},"readingTime":{"minutes":2.53,"words":759},"git":{"createdTime":1768139789000,"updatedTime":1768139789000,"contributors":[{"name":"HankYang","username":"HankYang","email":"hankyang428@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/HankYang?v=4","url":"https://github.com/HankYang"}]},"filePathRelative":"zh/notes/mm_operators/image_understanding/generate/prompt_templated_vqa_generator.md","headers":[]}');export{k as comp,d as data};
